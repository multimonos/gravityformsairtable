var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function s(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let i,a;function c(t,e){return i||(i=document.createElement("a")),i.href=e,t===i.href}function l(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function u(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function f(t,e,n){return t.set(n),e}function d(t,e){t.appendChild(e)}function p(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode.removeChild(t)}function g(t){return document.createElement(t)}function $(t){return document.createTextNode(t)}function h(){return $(" ")}function b(){return $("")}function y(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function x(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function w(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function v(t,e,n){t.classList[n?"add":"remove"](e)}function _(t){a=t}function T(){if(!a)throw new Error("Function called outside component initialization");return a}function E(){const t=T();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const s=function(t,e,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,!1,e),r}(e,n);r.slice().forEach((e=>{e.call(t,s)}))}}}const P=[],C=[],N=[],S=[],A=Promise.resolve();let k=!1;function M(t){N.push(t)}const L=new Set;let j=0;function F(){const t=a;do{for(;j<P.length;){const t=P[j];j++,_(t),H(t.$$)}for(_(null),P.length=0,j=0;C.length;)C.pop()();for(let t=0;t<N.length;t+=1){const e=N[t];L.has(e)||(L.add(e),e())}N.length=0}while(P.length);for(;S.length;)S.pop()();k=!1,L.clear(),_(t)}function H(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(M)}}const O=new Set;let z;function U(){z={r:0,c:[],p:z}}function R(){z.r||r(z.c),z=z.p}function B(t,e){t&&t.i&&(O.delete(t),t.i(e))}function q(t,e,n,r){if(t&&t.o){if(O.has(t))return;O.add(t),z.c.push((()=>{O.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function D(t){t&&t.c()}function I(t,n,o,i){const{fragment:a,on_mount:c,on_destroy:l,after_update:u}=t.$$;a&&a.m(n,o),i||M((()=>{const n=c.map(e).filter(s);l?l.push(...n):r(n),t.$$.on_mount=[]})),u.forEach(M)}function W(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function G(t,e){-1===t.$$.dirty[0]&&(P.push(t),k||(k=!0,A.then(F)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function X(e,s,o,i,c,l,u,f=[-1]){const d=a;_(e);const p=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(d?d.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:s.target||d.$$.root};u&&u(p.root);let g=!1;if(p.ctx=o?o(e,s.props||{},((t,n,...r)=>{const s=r.length?r[0]:n;return p.ctx&&c(p.ctx[t],p.ctx[t]=s)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](s),g&&G(e,t)),n})):[],p.update(),g=!0,r(p.before_update),p.fragment=!!i&&i(p.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);p.fragment&&p.fragment.l(t),t.forEach(m)}else p.fragment&&p.fragment.c();s.intro&&B(e.$$.fragment),I(e,s.target,s.anchor,s.customElement),F()}_(d)}class Y{$destroy(){W(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===n&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}}("#gf-airtable-app .gform-settings-panel {\n  margin-bottom: 2rem; }\n  #gf-airtable-app .gform-settings-panel__header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center; }\n    #gf-airtable-app .gform-settings-panel__header img {\n      height: 64px;\n      width: 64px;\n      margin-left: .5rem; }\n\n#gf-airtable-app .fixed-width {\n  display: inline-block;\n  min-width: 20px; }\n\n#gf-airtable-app .state-button-wrapper {\n  display: flex;\n  align-items: center; }\n  #gf-airtable-app .state-button-wrapper .button strong {\n    font-weight: bold !important;\n    color: #F34A5C !important; }\n\n#gf-airtable-app .gfat-actions {\n  margin-bottom: 1rem; }\n\n#gf-airtable-app .gfat-progress {\n  margin-bottom: .5rem;\n  display: flex;\n  flex-direction: column; }\n  #gf-airtable-app .gfat-progress progress {\n    width: 100%; }\n\n#gf-airtable-app .gfat-is-loading {\n  position: relative; }\n  #gf-airtable-app .gfat-is-loading:before {\n    content: '';\n    display: block;\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n    background-color: #f5f5f5;\n    width: 100%;\n    height: calc(100% - 16px); }\n");const J=[];function K(e,n=t){let r;const s=new Set;function i(t){if(o(e,t)&&(e=t,r)){const t=!J.length;for(const t of s)t[1](),J.push(t,e);if(t){for(let t=0;t<J.length;t+=2)J[t][0](J[t+1]);J.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(o,a=t){const c=[o,a];return s.add(c),1===s.size&&(r=n(i)||t),o(e),()=>{s.delete(c),0===s.size&&(r(),r=null)}}}}const Q={siteUrl:"https://cactus.test",pageSize:10,rateLimit:250,nonce:null},V=(()=>{const{subscribe:t,set:e,update:n}=K({...Q});return{subscribe:t,set:e,update:n,fromWordpress:t=>n((e=>e={...e,...t}))}})(),Z={total:null,processed:0,inProgress:!1,isComplete:!1,errorMessage:!1},tt=(()=>{const{subscribe:t,set:e,update:n}=K({...Z});return{subscribe:t,set:e,update:n,reset:()=>n((t=>(t.processed=0,t.total=null,t.inProgress=!1,t.isComplete=!1,t.errorMessage=!1,t)))}})(),et=(t,e)=>{const n={"Content-type":"application/json","X-WP-Nonce":e};return{feed:async e=>fetch(`${t}/wp-json/gfairtable/v1/feeds/${e}`,{headers:n}),feedSync:async e=>fetch(`${t}/wp-json/gfairtable/v1/feeds/${e}/sync`,{method:"POST",headers:n}),feedReset:async e=>fetch(`${t}/wp-json/gfairtable/v1/feeds/${e}/reset`,{method:"POST",headers:n}),feedEntryMeta:async(e,r)=>fetch(`${t}/wp-json/gfairtable/v1/feeds/${e}/entries/${r}/meta`,{headers:n})}};function nt(t){let e,n,r,s,o;return{c(){e=g("button"),n=h(),r=g("span"),x(e,"class","button button-primary button-hero"),x(r,"class","spinner is-active")},m(i,a){p(i,e,a),e.innerHTML=t[1],p(i,n,a),p(i,r,a),s||(o=y(e,"click",t[4]),s=!0)},p(t,n){2&n&&(e.innerHTML=t[1])},d(t){t&&m(e),t&&m(n),t&&m(r),s=!1,o()}}}function rt(t){let e,n,r;return{c(){e=g("button"),x(e,"class","button button-primary button-hero")},m(s,o){p(s,e,o),e.innerHTML=t[0],n||(r=y(e,"click",t[3]),n=!0)},p(t,n){1&n&&(e.innerHTML=t[0])},d(t){t&&m(e),n=!1,r()}}}function st(e){let n;function r(t,e){return!t[2].inProgress||t[2].isComplete?rt:nt}let s=r(e),o=s(e);return{c(){n=g("div"),o.c(),x(n,"class","state-button-wrapper")},m(t,e){p(t,n,e),o.m(n,null)},p(t,[e]){s===(s=r(t))&&o?o.p(t,e):(o.d(1),o=s(t),o&&(o.c(),o.m(n,null)))},i:t,o:t,d(t){t&&m(n),o.d()}}}function ot(t,e,n){let r;l(t,tt,(t=>n(2,r=t)));let{startText:s="Start"}=e,{stopText:o="Stop"}=e;const i=E();return t.$$set=t=>{"startText"in t&&n(0,s=t.startText),"stopText"in t&&n(1,o=t.stopText)},[s,o,r,t=>i("start"),t=>i("stop")]}class it extends Y{constructor(t){super(),X(this,t,ot,st,o,{startText:0,stopText:1})}}function at(e){let n,r,s,o,i,a,c,l,u;return{c(){n=g("progress"),r=$(e[0]),s=h(),o=g("p"),i=$("   "),a=$(e[0]),c=$(" of "),l=$(e[1]),u=$(" Processed"),n.value=e[0],x(n,"max",e[1])},m(t,e){p(t,n,e),d(n,r),p(t,s,e),p(t,o,e),d(o,i),d(o,a),d(o,c),d(o,l),d(o,u)},p(t,[e]){1&e&&w(r,t[0]),1&e&&(n.value=t[0]),2&e&&x(n,"max",t[1]),1&e&&w(a,t[0]),2&e&&w(l,t[1])},i:t,o:t,d(t){t&&m(n),t&&m(s),t&&m(o)}}}function ct(t,e,n){let{value:r}=e,{max:s}=e;return t.$$set=t=>{"value"in t&&n(0,r=t.value),"max"in t&&n(1,s=t.max)},[r,s]}class lt extends Y{constructor(t){super(),X(this,t,ct,at,o,{value:0,max:1})}}function ut(t){let e;return{c(){e=g("p")},m(n,r){p(n,e,r),e.innerHTML=t[0]},p(t,n){1&n&&(e.innerHTML=t[0])},d(t){t&&m(e)}}}function ft(e){let n,r,s,o=e[0]&&ut(e);return{c(){n=g("div"),r=g("p"),r.innerHTML="<strong>Ooops! Something went wrong ...</strong>",s=h(),o&&o.c(),x(n,"class","notice notice-error is-dismissible"),v(n,"is-dismissible",e[1])},m(t,e){p(t,n,e),d(n,r),d(n,s),o&&o.m(n,null)},p(t,[e]){t[0]?o?o.p(t,e):(o=ut(t),o.c(),o.m(n,null)):o&&(o.d(1),o=null),2&e&&v(n,"is-dismissible",t[1])},i:t,o:t,d(t){t&&m(n),o&&o.d()}}}function dt(t,e,n){let{message:r}=e,{dismissable:s=!0}=e;return t.$$set=t=>{"message"in t&&n(0,r=t.message),"dismissable"in t&&n(1,s=t.dismissable)},[r,s]}class pt extends Y{constructor(t){super(),X(this,t,dt,ft,o,{message:0,dismissable:1})}}function mt(t){let e,n,r,s;return e=new pt({}),{c(){D(e.$$.fragment),n=h(),r=g("br")},m(t,o){I(e,t,o),p(t,n,o),p(t,r,o),s=!0},i(t){s||(B(e.$$.fragment,t),s=!0)},o(t){q(e.$$.fragment,t),s=!1},d(t){W(e,t),t&&m(n),t&&m(r)}}}function gt(t){let e,n,r,s,o,i,a,l,f,b,y,v,_,T,E,P=t[2].errorMessage&&mt();const C=t[4].default,N=function(t,e,n,r){if(t){const s=u(t,e,n,r);return t[0](s)}}(C,t,t[3],null);return{c(){e=g("div"),n=g("header"),r=g("h3"),s=g("span"),o=$(t[0]),i=h(),a=g("img"),f=h(),b=g("div"),y=g("div"),v=g("br"),_=h(),P&&P.c(),T=h(),N&&N.c(),x(r,"class","gform-settings-panel__title"),c(a.src,l=t[1].avatarUrl)||x(a,"src",l),x(a,"alt","Airtable logo"),x(n,"class","gform-settings-panel__header"),x(y,"class","inner-content"),x(b,"class","gform-settings-panel__content"),x(e,"class","gform-settings-panel")},m(t,c){p(t,e,c),d(e,n),d(n,r),d(r,s),d(s,o),d(n,i),d(n,a),d(e,f),d(e,b),d(b,y),d(y,v),d(y,_),P&&P.m(y,null),d(y,T),N&&N.m(y,null),E=!0},p(t,[e]){(!E||1&e)&&w(o,t[0]),(!E||2&e&&!c(a.src,l=t[1].avatarUrl))&&x(a,"src",l),t[2].errorMessage?P?4&e&&B(P,1):(P=mt(),P.c(),B(P,1),P.m(y,T)):P&&(U(),q(P,1,1,(()=>{P=null})),R()),N&&N.p&&(!E||8&e)&&function(t,e,n,r,s,o){if(s){const i=u(e,n,r,o);t.p(i,s)}}(N,C,t,t[3],E?function(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(void 0===e.dirty)return s;if("object"==typeof s){const t=[],n=Math.max(e.dirty.length,s.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|s[r];return t}return e.dirty|s}return e.dirty}(C,t[3],e,null):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[3]),null)},i(t){E||(B(P),B(N,t),E=!0)},o(t){q(P),q(N,t),E=!1},d(t){t&&m(e),P&&P.d(),N&&N.d(t)}}}function $t(t,e,n){let r,s;l(t,V,(t=>n(1,r=t))),l(t,tt,(t=>n(2,s=t)));let{$$slots:o={},$$scope:i}=e,{title:a}=e;return t.$$set=t=>{"title"in t&&n(0,a=t.title),"$$scope"in t&&n(3,i=t.$$scope)},[a,r,s,i,o]}class ht extends Y{constructor(t){super(),X(this,t,$t,gt,o,{title:0})}}function bt(t){let e,n;return e=new lt({props:{max:t[1].total,value:t[1].processed}}),{c(){D(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.max=t[1].total),2&n&&(r.value=t[1].processed),e.$set(r)},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){W(e,t)}}}function yt(t){let e,n,r,s,o,i,a,c,l,u,f,b,y,v,_,T,E,P,C,N,S,A,k=t[0].meta.feedName+"";C=new it({props:{startText:`Synchronize Feed : <strong>${t[0].meta.feedName}</strong>`}}),C.$on("start",t[3]),C.$on("stop",t[2]);let M=t[1].total&&bt(t);return{c(){e=g("div"),n=g("div"),r=g("p"),s=$("For the sync operation to be successful this feed, "),o=g("em"),i=$('"'),a=$(k),c=$('"'),l=$(",\n                should be setup such that the "),u=g("strong"),u.textContent="Gravity Form Entry ID",f=h(),b=g("em"),b.textContent="is mapped\n                to the",y=h(),v=g("strong"),v.textContent="First Airtable Base Table Column",_=$("."),T=h(),E=g("br"),P=h(),D(C.$$.fragment),N=h(),S=g("div"),M&&M.c(),x(n,"class","notice is-dismissible"),x(e,"class","gfat-actions"),x(S,"class","gfat-progress")},m(t,m){p(t,e,m),d(e,n),d(n,r),d(r,s),d(r,o),d(o,i),d(o,a),d(o,c),d(r,l),d(r,u),d(r,f),d(r,b),d(r,y),d(r,v),d(r,_),d(e,T),d(e,E),d(e,P),I(C,e,null),p(t,N,m),p(t,S,m),M&&M.m(S,null),A=!0},p(t,e){(!A||1&e)&&k!==(k=t[0].meta.feedName+"")&&w(a,k);const n={};1&e&&(n.startText=`Synchronize Feed : <strong>${t[0].meta.feedName}</strong>`),C.$set(n),t[1].total?M?(M.p(t,e),2&e&&B(M,1)):(M=bt(t),M.c(),B(M,1),M.m(S,null)):M&&(U(),q(M,1,1,(()=>{M=null})),R())},i(t){A||(B(C.$$.fragment,t),B(M),A=!0)},o(t){q(C.$$.fragment,t),q(M),A=!1},d(t){t&&m(e),W(C),t&&m(N),t&&m(S),M&&M.d()}}}function xt(t){let e,n;return e=new ht({props:{title:"Synchronize Feed",$$slots:{default:[yt]},$$scope:{ctx:t}}}),{c(){D(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,[n]){const r={};131&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){W(e,t)}}}function wt(t,e,n){let r,s;l(t,tt,(t=>n(1,r=t))),l(t,V,(t=>n(4,s=t)));let{feed:o}=e,i=et(s.siteUrl,s.nonce);return t.$$set=t=>{"feed"in t&&n(0,o=t.feed)},[o,r,t=>{f(tt,r.inProgress=!1,r)},async t=>{try{if(r.inProgress)return;tt.reset(),f(tt,r.total=o.sync_status.total,r),f(tt,r.processed=o.sync_status.synced,r),f(tt,r.inProgress=!0,r),await(async t=>new Promise(((e,n)=>{const s=async()=>{if(!r.inProgress)return e(!0);const o=await i.feedSync(t);o.ok||n(o);const a=await o.json();if(f(tt,r.processed=a.feed_sync_status.synced,r),a.feed_sync_status.total===a.feed_sync_status.synced)return f(tt,r.isComplete=!0,r),e(!0);s()};s()})))(o.id),f(tt,r.inProgress=!1,r)}catch(t){f(tt,r.errorMessage=`${t.status} : ${t.statusText}`,r),f(tt,r.inProgress=!1,r),console.error("error",t)}}]}class vt extends Y{constructor(t){super(),X(this,t,wt,xt,o,{feed:0})}}function _t(t){let e,n;return e=new lt({props:{max:t[1].total,value:t[1].processed}}),{c(){D(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.max=t[1].total),2&n&&(r.value=t[1].processed),e.$set(r)},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){W(e,t)}}}function Tt(t){let e,n,r,s,o,i,a,c,l;i=new it({props:{startText:`Reset Feed : <strong>${t[0].meta.feedName}</strong>`}}),i.$on("start",t[2]),i.$on("stop",t[3]);let u=t[1].total&&_t(t);return{c(){e=g("div"),n=g("div"),n.innerHTML="<p>Resetting the feed will completely erase any history with respect which\n                Entries have been pushed to Airtable. The next time you synchronize the\n                feed <strong>all entries will be pushed Airtable</strong>.</p>",r=h(),s=g("br"),o=h(),D(i.$$.fragment),a=h(),c=g("div"),u&&u.c(),x(n,"class","notice notice-warning notice-alt"),x(e,"class","gfat-actions"),x(c,"class","gfat-progress")},m(t,f){p(t,e,f),d(e,n),d(e,r),d(e,s),d(e,o),I(i,e,null),p(t,a,f),p(t,c,f),u&&u.m(c,null),l=!0},p(t,e){const n={};1&e&&(n.startText=`Reset Feed : <strong>${t[0].meta.feedName}</strong>`),i.$set(n),t[1].total?u?(u.p(t,e),2&e&&B(u,1)):(u=_t(t),u.c(),B(u,1),u.m(c,null)):u&&(U(),q(u,1,1,(()=>{u=null})),R())},i(t){l||(B(i.$$.fragment,t),B(u),l=!0)},o(t){q(i.$$.fragment,t),q(u),l=!1},d(t){t&&m(e),W(i),t&&m(a),t&&m(c),u&&u.d()}}}function Et(t){let e,n;return e=new ht({props:{title:"Reset Feed","}":!0,$$slots:{default:[Tt]},$$scope:{ctx:t}}}),{c(){D(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,[n]){const r={};131&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){W(e,t)}}}function Pt(t,e,n){let r,s;l(t,tt,(t=>n(1,r=t))),l(t,V,(t=>n(4,s=t)));let{feed:o}=e,i=et(s.siteUrl,s.nonce);return t.$$set=t=>{"feed"in t&&n(0,o=t.feed)},[o,r,async t=>{try{if(!confirm("Are you sure?\n\nTHIS ACTION CANNOT BE UNDONE!"))return;if(!confirm("Are you really sure?"))return;if(r.inProgress)return;tt.reset(),f(tt,r.total=o.sync_status.synced,r),f(tt,r.inProgress=!0,r),await(async t=>new Promise(((e,n)=>{const s=async()=>{if(!r.inProgress)return e(!0);const o=await i.feedReset(t);if(!o.ok)return n(o);const a=await o.json();if(f(tt,r.processed=r.total-a.feed_sync_status.synced,r),0===a.feed_sync_status.synced)return e(!0);s()};s()})))(o.id),f(tt,r.inProgress=!1,r)}catch(t){f(tt,r.errorMessage=`${t.status} : ${t.statusText}`,r),f(tt,r.inProgress=!1,r),console.error("error",t)}},async t=>{f(tt,r.inProgress=!1,r)}]}class Ct extends Y{constructor(t){super(),X(this,t,Pt,Et,o,{feed:0})}}function Nt(t){let e,n,r,s;const o=[At,St],i=[];function a(t,e){return"sync-feed"===t[1]?0:"reset-feed"===t[1]?1:-1}return~(e=a(t))&&(n=i[e]=o[e](t)),{c(){n&&n.c(),r=b()},m(t,n){~e&&i[e].m(t,n),p(t,r,n),s=!0},p(t,s){let c=e;e=a(t),e===c?~e&&i[e].p(t,s):(n&&(U(),q(i[c],1,1,(()=>{i[c]=null})),R()),~e?(n=i[e],n?n.p(t,s):(n=i[e]=o[e](t),n.c()),B(n,1),n.m(r.parentNode,r)):n=null)},i(t){s||(B(n),s=!0)},o(t){q(n),s=!1},d(t){~e&&i[e].d(t),t&&m(r)}}}function St(t){let e,n;return e=new Ct({props:{feed:t[0]}}),{c(){D(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.feed=t[0]),e.$set(r)},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){W(e,t)}}}function At(t){let e,n;return e=new vt({props:{feed:t[0]}}),{c(){D(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.feed=t[0]),e.$set(r)},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){W(e,t)}}}function kt(t){let e,n,r=t[0]&&Nt(t);return{c(){r&&r.c(),e=b()},m(t,s){r&&r.m(t,s),p(t,e,s),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),1&n&&B(r,1)):(r=Nt(t),r.c(),B(r,1),r.m(e.parentNode,e)):r&&(U(),q(r,1,1,(()=>{r=null})),R())},i(t){n||(B(r),n=!0)},o(t){q(r),n=!1},d(t){r&&r.d(t),t&&m(e)}}}function Mt(t,e,n){let r,s,o,i;l(t,V,(t=>n(4,s=t)));const a=et(s.siteUrl,s.nonce),c=async t=>{tt.reset(),n(2,o=t.detail.action);const e=await a.feed(t.detail.feed_id),r=await e.json();n(0,i=r.feed),console.log({feed:i})};var u;return u=()=>{console.log({$config:s}),window.addEventListener("airtable",c)},T().$$.on_mount.push(u),t.$$.update=()=>{4&t.$$.dirty&&n(1,r=o),t.$$.dirty},[i,r,o]}(()=>{const t=document.querySelectorAll(".gf-airtable-action");if(null===t)return;const e=t=>{t.preventDefault();const e={action:t.target.dataset.airtableAction,feed_id:t.target.dataset.airtableFeed};event=new CustomEvent("airtable",{detail:e}),window.dispatchEvent(event)};t.forEach((t=>{t.addEventListener("click",e)}))})(),window.gfAirtable_strings&&V.fromWordpress(window.gfAirtable_strings);return new class extends Y{constructor(t){super(),X(this,t,Mt,kt,o,{})}}({target:document.querySelector("#gf-airtable-app")})}();
//# sourceMappingURL=bundle.js.map
